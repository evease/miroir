<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Miroir</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/weather-icons.min.css" rel="stylesheet">
    <link href="css/weather-icons-wind.min.css" rel="stylesheet">

  </head>
  <body style="background-color:black;">
    
    <div class="container" style="color:white; "> 
      <div class="row">
        <div class="col-md-12 text-center" style="font-size:5em;">
          <span id="horloge"></span>
        </div>
      </div>
      <div class="row" style="font-size:1.3em;">
        <div class="col-md-4 pull-left" >
          <i class="glyphicon glyphicon-list-alt"></i> Hey ! Restau ce soir ?<br/>
          <i class="glyphicon glyphicon-gift"></i> A faire : Course <br/>
          <i class="glyphicon glyphicon-fire"></i> Fractionné à préparer<br/>
          <i class="glyphicon glyphicon-chevron-right"></i> Séance Yoga à 16h<br/>
          <i class="glyphicon glyphicon-thumbs-up"></i> Préaprer diner parents<br/>
        </div>
       
        <div class="col-md-3 pull-right" id="meteo" ></div>
      </div>
      <div class="row">
        <div class="col-md-12">
        <ul id="test"></ul>
        </div>
      </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/dateUtils.js"></script>
    <script src="js/printUtils.js"></script>
    <script src="js/stringUtils.js"></script>
    <script>
      var aujourdhui = new Date();
      var idCity = 3031582;
      var apiID  = 'd41e584ee579483bf06548cf10b0b8ec';
      var units ='metric';
      var lang = 'fr';

      $.ajax({
        url : 'apimeteo', 
        //url : 'http://api.openweathermap.org/data/2.5/forecast/city', 
        type : 'GET',
        //data : 'id='+idCity+'&APPID='+apiID+'&units='+units+'&lang='+lang,
        dataType : 'JSON',
        success : function(json, statut){ 
            //alert(json['city']['name']);
            var items = [];
            items.push("<u>"+firstUpperCase(nomDuJour(aujourdhui))+" "+aujourdhui.getDate()+" "+nomDuMois(aujourdhui)+" "+aujourdhui.getFullYear()+"</u><br/>");
            $.each(json['list'], function( key, val ) {
              var d = new Date(val["dt_txt"]);
              var today = new Date();
              if (d.getDay() == today.getDay()) {
                items.push(d.getHours()+ 'h : ');
                items.push( iconsTemps(val["weather"][0]["main"])+val["main"]["temp"]+'°C '+firstUpperCase(val["weather"][0]["description"])+'<br/>');
              }
              
            });
            $('#meteo').html(items); // renvoie le texte contenu à l'intérieur du paragraphe
        },
        error : function(resultat, statut, erreur){

        }
      });


    
    horloge('horloge'); 
    </script>
  </body>
</html>

<!--http://api.openweathermap.org/data/2.5/forecast/city?id=3031582&APPID=d41e584ee579483bf06548cf10b0b8ec&units=metric&lang=fr

http://openweathermap.org/weather-data
-->